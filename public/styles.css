/* --- Base mobile-friendly touch sizes --- */
:root{
  --tap: 44px;      /* minimum tap target */
  --gap: 10px;
}

/* Buttons & selects: larger on touch */
.btn, .dropdown select {
  min-height: var(--tap);
  padding: 0 14px;
  font-size: 16px;
}

/* Make the top bar wrap gracefully */
.bar{
  display:flex; align-items:center; justify-content:space-between;
  background:var(--blue); color:#fff; min-height:48px; padding:8px 10px;
  flex-wrap: wrap;               /* âœ… allow wrapping */
  gap: 8px;
}
.bar .left, .bar .right{
  display:flex; align-items:center; gap:8px; flex-wrap:wrap;
}

/* Brand sits on its own row on small screens */
@media (max-width: 720px){
  .bar{
    padding: 10px;
  }
  .brand{
    width: 100%;
    margin-bottom: 4px;
  }
  .brand .dot{ width:18px; height:18px; }

  /* Controls stack into two neat rows */
  .bar .left, .bar .right{
    width: 100%;
    gap: 8px;
  }

  /* Keep important actions first */
  #btn-connect, #btn-next, #btn-block{
    flex: 1 1 calc(50% - var(--gap));
  }

  /* Show dropdowns on mobile (previously hidden) */
  .dropdown{ display:flex; }
  .dropdown select{
    flex: 1 1 160px;
    max-width: 240px;
  }

  /* Badge scales down nicely */
  .badge{
    padding: 6px 10px;
    font-size: 14px;
  }
}

/* Chat canvas fills viewport under header; input sticks at bottom */
.canvas{
  position: fixed;
  inset: calc(48px + 0px) 0 0 0;     /* header height is dynamic now */
  background:#fff;
  display:grid;
  grid-template-rows: 1fr auto auto;
}

/* On small screens, account for wrapped header height dynamically */
@media (max-width: 720px){
  .canvas{
    position: static;          /* let the page flow on mobile */
    min-height: 100dvh;        /* viewport height incl. mobile UI bars */
  }
}

/* Messages: comfortable padding & spacing */
.messages{
  overflow:auto; padding:14px; display:flex; flex-direction:column; gap:14px;
  scroll-behavior: smooth;
}

/* Message rows: keep readable on small screens */
.row .meta{ font-size: 14px; }
.bubble .text{ font-size: 16px; line-height: 1.45; }

/* Typing indicator pinned just above input on mobile */
.typing{ padding: 4px 14px; font-size: 14px; }

/* Bottom input: full-width, big tap targets */
.bottom{
  position: sticky;
  bottom: 0;
  background: #fff;
  display:flex; align-items:center; gap:10px; padding:10px;
  border-top: 1px solid var(--border);
}
.bottom input{
  flex:1; min-height: var(--tap); font-size:16px; padding:0 12px;
}
.bottom .send{
  min-height: var(--tap); padding: 0 16px; font-size:16px;
}

/* Make strips readable on mobile */
.msg.strip{ font-size: 15px; padding: 12px 14px; }

/* Prevent header overlap when it wraps */
@media (max-width: 720px){
  body { padding-top: 0; }
}
